{"ast":null,"code":"var _jsxFileName = \"/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/pages/Login.jsx\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux'; // import logo from '../trivia.png';\n\nimport '../App.css';\nimport GameSettings from '../components/GameSettings';\nimport { emailAction, fetchToken, nameAction } from '../Redux/Actions';\nimport profilePictureAPI from '../Helpers/profilePictureAPI';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.getGravatarImg = async () => {\n      const {\n        email\n      } = this.state;\n      const image = await profilePictureAPI(email);\n      console.log(image);\n    };\n\n    this.validateButton = () => {\n      const {\n        email,\n        name\n      } = this.state;\n      const minPasswordLength = 0; // Regex encontrado no link: https://www.w3resource.com/javascript/form/email-validation.php\n\n      const emailFormatRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n      if (name.length > minPasswordLength && email.match(emailFormatRegex)) {\n        this.setState({\n          isButtonDisabled: false\n        });\n      } else {\n        this.setState({\n          isButtonDisabled: true\n        });\n      }\n    };\n\n    this.settingsPage = () => {\n      const {\n        settings\n      } = this.state;\n      this.setState({\n        settings: !settings\n      });\n    };\n\n    this.onInputChange = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, this.validateButton);\n    };\n\n    this.handleClick = async () => {\n      const {\n        getFetchToken,\n        history\n      } = this.props;\n      await getFetchToken(); // await getFetchGameInfo(token);\n\n      history.push('/game');\n    };\n\n    this.state = {\n      email: '',\n      name: '',\n      isButtonDisabled: true,\n      settings: false,\n      gravatar: ''\n    };\n  }\n\n  render() {\n    const {\n      isButtonDisabled,\n      email,\n      name,\n      settings\n    } = this.state;\n    const {\n      login,\n      nameProp\n    } = this.props;\n    login(email);\n    nameProp(name);\n\n    if (settings) {\n      return /*#__PURE__*/React.createElement(GameSettings, {\n        loginPage: this.settingsPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 7\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nameInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      \"data-testid\": \"input-player-name\",\n      id: \"nameInput\",\n      value: name,\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"gravatarEmailInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      id: \"gravatarEmailInput\",\n      \"data-testid\": \"input-gravatar-email\",\n      onChange: this.onInputChange,\n      value: email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: isButtonDisabled,\n      type: \"button\",\n      \"data-testid\": \"btn-play\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, \"Play\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"btn-settings\",\n      onClick: this.settingsPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, \"Settings\"));\n  }\n\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getFetchToken: () => dispatch(fetchToken()),\n  login: email => dispatch(emailAction(email)),\n  nameProp: name => dispatch(nameAction(name))\n});\n\nconst mapStateToProps = state => ({\n  token: state.token\n});\n\nLogin.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any),\n  getFetchToken: PropTypes.func\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/pages/Login.jsx"],"names":["PropTypes","React","connect","GameSettings","emailAction","fetchToken","nameAction","profilePictureAPI","Login","Component","constructor","getGravatarImg","email","state","image","console","log","validateButton","name","minPasswordLength","emailFormatRegex","length","match","setState","isButtonDisabled","settingsPage","settings","onInputChange","target","value","handleClick","getFetchToken","history","props","push","gravatar","render","login","nameProp","propTypes","func","isRequired","mapDispatchToProps","dispatch","mapStateToProps","token","objectOf","any"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\n// import logo from '../trivia.png';\nimport '../App.css';\nimport GameSettings from '../components/GameSettings';\nimport { emailAction, fetchToken, nameAction } from '../Redux/Actions';\nimport profilePictureAPI from '../Helpers/profilePictureAPI';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      email: '',\n      name: '',\n      isButtonDisabled: true,\n      settings: false,\n      gravatar: ''\n    };\n  }\n\n  getGravatarImg = async () => {\n    const { email } = this.state;\n    const image = await profilePictureAPI(email);\n\n    console.log(image);\n  };\n\n  validateButton = () => {\n    const { email, name } = this.state;\n    const minPasswordLength = 0;\n    // Regex encontrado no link: https://www.w3resource.com/javascript/form/email-validation.php\n    const emailFormatRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (name.length > minPasswordLength && email.match(emailFormatRegex)) {\n      this.setState({\n        isButtonDisabled: false,\n      });\n    } else {\n      this.setState({\n        isButtonDisabled: true,\n      });\n    }\n  }\n\n  settingsPage = () => {\n    const { settings } = this.state;\n    this.setState({\n      settings: !settings,\n    });\n  }\n\nonInputChange = ({ target }) => {\n  this.setState({ [target.name]: target.value }, this.validateButton);\n}\n\nhandleClick = async () => {\n  const { getFetchToken, history } = this.props;\n  await getFetchToken();\n  // await getFetchGameInfo(token);\n  history.push('/game');\n}\n\nrender() {\n  const { isButtonDisabled, email, name, settings } = this.state;\n  const { login, nameProp } = this.props;\n  login(email);\n  nameProp(name);\n  if (settings) {\n    return (\n      <GameSettings loginPage={ this.settingsPage } />\n    );\n  }\n  return (\n    <>\n      {/* <header className=\"App-header\">\n          <img src={ logo } className=\"App-logo\" alt=\"logo\" />\n        </header> */}\n\n      <label htmlFor=\"nameInput\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          data-testid=\"input-player-name\"\n          id=\"nameInput\"\n          value={ name }\n          onChange={ this.onInputChange }\n        />\n      </label>\n\n      <label htmlFor=\"gravatarEmailInput\">\n        <input\n          type=\"email\"\n          name=\"email\"\n          id=\"gravatarEmailInput\"\n          data-testid=\"input-gravatar-email\"\n          onChange={ this.onInputChange }\n          value={ email }\n        />\n      </label>\n      <button\n        disabled={ isButtonDisabled }\n        type=\"button\"\n        data-testid=\"btn-play\"\n        onClick={ this.handleClick }\n      >\n        Play\n      </button>\n      <button\n        type=\"button\"\n        data-testid=\"btn-settings\"\n        onClick={ this.settingsPage }\n      >\n        Settings\n      </button>\n    </>\n  );\n}\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  getFetchToken: () => dispatch(fetchToken()),\n  login: (email) => dispatch(emailAction(email)),\n  nameProp: (name) => dispatch(nameAction(name)),\n});\n\nconst mapStateToProps = (state) => ({\n  token: state.token,\n});\n\nLogin.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any),\n  getFetchToken: PropTypes.func,\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}