{"ast":null,"code":"var _jsxFileName = \"/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/components/Question.js\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addQtdCorrectAnswers, addScore, nextQuestion } from '../Redux/Actions';\nimport '../styles/Question.css';\nimport NextButton from './NextButton';\nimport Loading from './Loading';\nimport Timer from './Timer';\n\nclass Question extends Component {\n  constructor() {\n    super();\n\n    this.setNextQuestion = () => {\n      const {\n        currentQuestion,\n        btnNextQuestion,\n        results\n      } = this.props;\n      btnNextQuestion(currentQuestion + 1);\n      this.setState({\n        correctAnswer: results[currentQuestion].correct_answer,\n        questionAnswered: false,\n        timerIsActive: false,\n        answers: [...results[currentQuestion].incorrect_answers, results[currentQuestion].correct_answer]\n      }, () => this.handleQuestions());\n    };\n\n    this.handleQuestions = () => {\n      const {\n        answers\n      } = this.state;\n      const random = this.shuffleAnswers(answers);\n      this.setState({\n        answers: random,\n        loading: false,\n        timerIsActive: true\n      });\n    };\n\n    this.shuffleAnswers = array => {\n      let currentIndex = array.length;\n      let randomIndex; // While there remain elements to shuffle...\n\n      while (currentIndex !== 0) {\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1; // And swap it with the current element.\n\n        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];\n      }\n\n      return array;\n    };\n\n    this.isCorrect = answer => {\n      const {\n        correctAnswer,\n        answers\n      } = this.state;\n      const wrongAnswers = answers.filter(a => a !== correctAnswer);\n      if (correctAnswer === answer) return 'correct-answer';\n      return `wrong-answer-${wrongAnswers.indexOf(answer)}`;\n    };\n\n    this.scoreCalculation = (answer, timer, difficulty) => {\n      const {\n        correctAnswer,\n        qtdCorrectAnswers\n      } = this.state;\n      const {\n        score,\n        newScore,\n        countCorrectAnswers\n      } = this.props;\n      let difficultyValue = 0;\n      const UM = 1;\n      const DOIS = 2;\n      const TRES = 3;\n      const DEZ = 10;\n\n      if (difficulty === 'hard') {\n        difficultyValue = TRES;\n      }\n\n      if (difficulty === 'medium') {\n        difficultyValue = DOIS;\n      }\n\n      if (difficulty === 'easy') {\n        difficultyValue = UM;\n      }\n\n      if (correctAnswer === answer) {\n        newScore(score + DEZ + difficultyValue * timer);\n        countCorrectAnswers(qtdCorrectAnswers + 1);\n      }\n    };\n\n    this.handleClick = selected => {\n      const {\n        timer,\n        results,\n        currentQuestion\n      } = this.props;\n      const level = results[currentQuestion].difficulty;\n      this.setState({\n        color: true\n      });\n      this.scoreCalculation(selected, timer, level);\n      this.setState({\n        questionAnswered: true\n      });\n    };\n\n    this.isActive = answer => {\n      const {\n        color,\n        correctAnswer\n      } = this.state;\n\n      if (color === true) {\n        if (correctAnswer === answer) return 'correct-answer';\n        return 'wrong-answer';\n      }\n    };\n\n    this.verifyTimer = () => {\n      const {\n        questionAnswered\n      } = this.state;\n      const {\n        timer\n      } = this.props;\n\n      if (timer === 0 || questionAnswered === true) {\n        return true;\n      }\n    };\n\n    this.state = {\n      correctAnswer: '',\n      answers: [],\n      loading: true,\n      color: false,\n      questionAnswered: false,\n      qtdCorrectAnswers: 0,\n      timerIsActive: true\n    };\n  }\n\n  componentDidMount() {\n    const {\n      results,\n      currentQuestion\n    } = this.props;\n    this.setState({\n      correctAnswer: results[currentQuestion].correct_answer,\n      answers: [...results[currentQuestion].incorrect_answers, results[currentQuestion].correct_answer]\n    }, () => this.handleQuestions());\n  }\n\n  render() {\n    const {\n      results,\n      currentQuestion\n    } = this.props;\n    const {\n      loading,\n      answers,\n      questionAnswered,\n      timerIsActive\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, loading === true ? /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, questionAnswered && /*#__PURE__*/React.createElement(NextButton, {\n      nextQuestion: this.setNextQuestion,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      \"data-testid\": \"question-category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, results[currentQuestion].category), /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"question-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, results[currentQuestion].question), /*#__PURE__*/React.createElement(\"div\", {\n      \"data-testid\": \"answer-options\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, answers.map((answer, index) => /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      key: index,\n      \"data-testid\": this.isCorrect(answer),\n      className: this.isActive(answer),\n      onClick: () => this.handleClick(answer),\n      disabled: this.verifyTimer(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, answer))), timerIsActive && /*#__PURE__*/React.createElement(Timer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 34\n      }\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  results: state.game.results,\n  currentQuestion: state.game.currentQuestion,\n  timer: state.game.timer,\n  score: state.player.score\n});\n\nconst mapDispatchToProps = dispatch => ({\n  newScore: score => dispatch(addScore(score)),\n  btnNextQuestion: question => dispatch(nextQuestion(question)),\n  countCorrectAnswers: answer => dispatch(addQtdCorrectAnswers(answer))\n});\n\nQuestion.propTypes = {\n  results: PropTypes.arrayOf(PropTypes.any),\n  currentQuestion: PropTypes.number\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(Question);","map":{"version":3,"sources":["/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/components/Question.js"],"names":["PropTypes","React","Component","connect","addQtdCorrectAnswers","addScore","nextQuestion","NextButton","Loading","Timer","Question","constructor","setNextQuestion","currentQuestion","btnNextQuestion","results","props","setState","correctAnswer","correct_answer","questionAnswered","timerIsActive","answers","incorrect_answers","handleQuestions","state","random","shuffleAnswers","loading","array","currentIndex","length","randomIndex","Math","floor","isCorrect","answer","wrongAnswers","filter","a","indexOf","scoreCalculation","timer","difficulty","qtdCorrectAnswers","score","newScore","countCorrectAnswers","difficultyValue","UM","DOIS","TRES","DEZ","handleClick","selected","level","color","isActive","verifyTimer","componentDidMount","render","category","question","map","index","mapStateToProps","game","player","mapDispatchToProps","dispatch","propTypes","arrayOf","any","number","isRequired"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { addQtdCorrectAnswers, addScore, nextQuestion } from '../Redux/Actions';\nimport '../styles/Question.css';\nimport NextButton from './NextButton';\nimport Loading from './Loading';\nimport Timer from './Timer';\n\nclass Question extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      correctAnswer: '',\n      answers: [],\n      loading: true,\n      color: false,\n      questionAnswered: false,\n      qtdCorrectAnswers: 0,\n      timerIsActive: true,\n    };\n  }\n\n  componentDidMount() {\n    const { results, currentQuestion } = this.props;\n    this.setState({\n      correctAnswer: results[currentQuestion].correct_answer,\n      answers: [...results[currentQuestion].incorrect_answers,\n        results[currentQuestion].correct_answer],\n    }, () => this.handleQuestions());\n  }\n\n  setNextQuestion = () => {\n    const { currentQuestion, btnNextQuestion, results } = this.props;\n    btnNextQuestion(currentQuestion + 1);\n    this.setState({\n      correctAnswer: results[currentQuestion].correct_answer,\n      questionAnswered: false,\n      timerIsActive: false,\n      answers: [...results[currentQuestion].incorrect_answers,\n        results[currentQuestion].correct_answer],\n    }, () => this.handleQuestions());\n  }\n\n  handleQuestions = () => {\n    const { answers } = this.state;\n    const random = this.shuffleAnswers(answers);\n    this.setState({\n      answers: random,\n      loading: false,\n      timerIsActive: true,\n    });\n  }\n\n  // Função para ramdomizar o array de respostas baseado no algoritimo de Fisher–Yates shuffle\n  // https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n  shuffleAnswers = (array) => {\n    let currentIndex = array.length; let\n      randomIndex;\n    // While there remain elements to shuffle...\n    while (currentIndex !== 0) {\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n      // And swap it with the current element.\n      [array[currentIndex], array[randomIndex]] = [\n        array[randomIndex], array[currentIndex]];\n    }\n    return array;\n  }\n\n  isCorrect = (answer) => {\n    const { correctAnswer, answers } = this.state;\n    const wrongAnswers = answers.filter((a) => a !== correctAnswer);\n    if (correctAnswer === answer) return 'correct-answer';\n    return (`wrong-answer-${wrongAnswers.indexOf(answer)}`);\n  }\n\n  scoreCalculation = (answer, timer, difficulty) => {\n    const { correctAnswer, qtdCorrectAnswers } = this.state;\n    const { score, newScore, countCorrectAnswers } = this.props;\n    let difficultyValue = 0;\n    const UM = 1;\n    const DOIS = 2;\n    const TRES = 3;\n    const DEZ = 10;\n    if (difficulty === 'hard') {\n      difficultyValue = TRES;\n    }\n    if (difficulty === 'medium') {\n      difficultyValue = DOIS;\n    }\n    if (difficulty === 'easy') {\n      difficultyValue = UM;\n    }\n    if (correctAnswer === answer) {\n      newScore(score + DEZ + (difficultyValue * timer));\n      countCorrectAnswers(qtdCorrectAnswers + 1);\n    }\n  };\n\n  handleClick = (selected) => {\n    const { timer, results, currentQuestion } = this.props;\n    const level = results[currentQuestion].difficulty;\n    this.setState({\n      color: true,\n    });\n    this.scoreCalculation(selected, timer, level);\n    this.setState({\n      questionAnswered: true,\n    });\n  }\n\n  isActive = (answer) => {\n    const { color, correctAnswer } = this.state;\n    if (color === true) {\n      if (correctAnswer === answer) return 'correct-answer';\n      return 'wrong-answer';\n    }\n  }\n\n  verifyTimer = () => {\n    const { questionAnswered } = this.state;\n    const { timer } = this.props;\n    if (timer === 0 || questionAnswered === true) {\n      return true;\n    }\n  }\n\n  render() {\n    const { results, currentQuestion } = this.props;\n    const { loading, answers, questionAnswered, timerIsActive } = this.state;\n    return (\n      <div>\n        {loading === true\n          ? <Loading />\n          : (\n            <div>\n              { questionAnswered && <NextButton nextQuestion={ this.setNextQuestion } /> }\n              <h2 data-testid=\"question-category\">{results[currentQuestion].category}</h2>\n              <p data-testid=\"question-text\">\n                {results[currentQuestion].question}\n              </p>\n              <div data-testid=\"answer-options\">\n                {answers.map((answer, index) => (\n                  <button\n                    type=\"button\"\n                    key={ index }\n                    data-testid={ this.isCorrect(answer) }\n                    className={ this.isActive(answer) }\n                    onClick={ () => this.handleClick(answer) }\n                    disabled={ this.verifyTimer() }\n                  >\n                    {answer}\n                  </button>))}\n              </div>\n              { timerIsActive && <Timer />}\n            </div>\n          )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  results: state.game.results,\n  currentQuestion: state.game.currentQuestion,\n  timer: state.game.timer,\n  score: state.player.score,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  newScore: (score) => dispatch(addScore(score)),\n  btnNextQuestion: (question) => dispatch(nextQuestion(question)),\n  countCorrectAnswers: (answer) => dispatch(addQtdCorrectAnswers(answer)),\n});\n\nQuestion.propTypes = {\n  results: PropTypes.arrayOf(PropTypes.any),\n  currentQuestion: PropTypes.number,\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Question);\n"]},"metadata":{},"sourceType":"module"}