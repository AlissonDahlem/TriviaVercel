{"ast":null,"code":"var _jsxFileName = \"/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/pages/Login.jsx\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux'; // import logo from '../trivia.png';\n\nimport '../App.css';\nimport GameSettings from '../components/GameSettings';\nimport { emailAction, fetchToken, nameAction } from '../Redux/Actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.validateButton = () => {\n      const {\n        email,\n        name\n      } = this.state;\n      const minPasswordLength = 0; // Regex encontrado no link: https://www.w3resource.com/javascript/form/email-validation.php\n\n      const emailFormatRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n      if (name.length > minPasswordLength && email.match(emailFormatRegex)) {\n        this.setState({\n          isButtonDisabled: false\n        });\n      } else {\n        this.setState({\n          isButtonDisabled: true\n        });\n      }\n    };\n\n    this.settingsPage = () => {\n      const {\n        settings\n      } = this.state;\n      this.setState({\n        settings: !settings\n      });\n    };\n\n    this.onInputChange = _ref => {\n      let {\n        target\n      } = _ref;\n      this.setState({\n        [target.name]: target.value\n      }, this.validateButton);\n    };\n\n    this.handleClick = async () => {\n      const {\n        getFetchToken,\n        history\n      } = this.props;\n      await getFetchToken(); // await getFetchGameInfo(token);\n\n      history.push('/game');\n    };\n\n    this.state = {\n      email: '',\n      name: '',\n      isButtonDisabled: true,\n      settings: false\n    };\n  }\n\n  render() {\n    const {\n      isButtonDisabled,\n      email,\n      name,\n      settings\n    } = this.state;\n    const {\n      login,\n      nameProp\n    } = this.props;\n    login(email);\n    nameProp(name);\n\n    if (settings) {\n      return /*#__PURE__*/React.createElement(GameSettings, {\n        loginPage: this.settingsPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nameInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      \"data-testid\": \"input-player-name\",\n      id: \"nameInput\",\n      value: name,\n      onChange: this.onInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"gravatarEmailInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      id: \"gravatarEmailInput\",\n      \"data-testid\": \"input-gravatar-email\",\n      onChange: this.onInputChange,\n      value: email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: isButtonDisabled,\n      type: \"button\",\n      \"data-testid\": \"btn-play\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, \"Play\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      \"data-testid\": \"btn-settings\",\n      onClick: this.settingsPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, \"Settings\"));\n  }\n\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getFetchToken: () => dispatch(fetchToken()),\n  login: email => dispatch(emailAction(email)),\n  nameProp: name => dispatch(nameAction(name))\n});\n\nconst mapStateToProps = state => ({\n  token: state.token\n});\n\nLogin.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any),\n  getFetchToken: PropTypes.func\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/pages/Login.jsx"],"names":["PropTypes","React","connect","GameSettings","emailAction","fetchToken","nameAction","Login","Component","constructor","validateButton","email","name","state","minPasswordLength","emailFormatRegex","length","match","setState","isButtonDisabled","settingsPage","settings","onInputChange","target","value","handleClick","getFetchToken","history","props","push","render","login","nameProp","propTypes","func","isRequired","mapDispatchToProps","dispatch","mapStateToProps","token","objectOf","any"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\n// import logo from '../trivia.png';\nimport '../App.css';\nimport GameSettings from '../components/GameSettings';\nimport { emailAction, fetchToken, nameAction } from '../Redux/Actions';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      email: '',\n      name: '',\n      isButtonDisabled: true,\n      settings: false,\n    };\n  }\n\n  validateButton = () => {\n    const { email, name } = this.state;\n    const minPasswordLength = 0;\n    // Regex encontrado no link: https://www.w3resource.com/javascript/form/email-validation.php\n    const emailFormatRegex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if (name.length > minPasswordLength && email.match(emailFormatRegex)) {\n      this.setState({\n        isButtonDisabled: false,\n      });\n    } else {\n      this.setState({\n        isButtonDisabled: true,\n      });\n    }\n  }\n\n  settingsPage = () => {\n    const { settings } = this.state;\n    this.setState({\n      settings: !settings,\n    });\n  }\n\nonInputChange = ({ target }) => {\n  this.setState({ [target.name]: target.value }, this.validateButton);\n}\n\nhandleClick = async () => {\n  const { getFetchToken, history } = this.props;\n  await getFetchToken();\n  // await getFetchGameInfo(token);\n  history.push('/game');\n}\n\nrender() {\n  const { isButtonDisabled, email, name, settings } = this.state;\n  const { login, nameProp } = this.props;\n  login(email);\n  nameProp(name);\n  if (settings) {\n    return (\n      <GameSettings loginPage={ this.settingsPage } />\n    );\n  }\n  return (\n    <>\n      {/* <header className=\"App-header\">\n          <img src={ logo } className=\"App-logo\" alt=\"logo\" />\n        </header> */}\n\n      <label htmlFor=\"nameInput\">\n        <input\n          type=\"text\"\n          name=\"name\"\n          data-testid=\"input-player-name\"\n          id=\"nameInput\"\n          value={ name }\n          onChange={ this.onInputChange }\n        />\n      </label>\n\n      <label htmlFor=\"gravatarEmailInput\">\n        <input\n          type=\"email\"\n          name=\"email\"\n          id=\"gravatarEmailInput\"\n          data-testid=\"input-gravatar-email\"\n          onChange={ this.onInputChange }\n          value={ email }\n        />\n      </label>\n      <button\n        disabled={ isButtonDisabled }\n        type=\"button\"\n        data-testid=\"btn-play\"\n        onClick={ this.handleClick }\n      >\n        Play\n      </button>\n      <button\n        type=\"button\"\n        data-testid=\"btn-settings\"\n        onClick={ this.settingsPage }\n      >\n        Settings\n      </button>\n    </>\n  );\n}\n}\n\nLogin.propTypes = {\n  login: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  getFetchToken: () => dispatch(fetchToken()),\n  login: (email) => dispatch(emailAction(email)),\n  nameProp: (name) => dispatch(nameAction(name)),\n});\n\nconst mapStateToProps = (state) => ({\n  token: state.token,\n});\n\nLogin.propTypes = {\n  history: PropTypes.objectOf(PropTypes.any),\n  getFetchToken: PropTypes.func,\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}