{"ast":null,"code":"var _jsxFileName = \"/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/components/Timer.jsx\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setTimer } from '../Redux/Actions';\n\nclass Timer extends React.Component {\n  constructor() {\n    super();\n\n    this.handleSeconds = () => {\n      this.setState(prevState => ({\n        seconds: prevState.seconds - 1\n      }));\n      const {\n        seconds\n      } = this.state;\n      const {\n        timer\n      } = this.props;\n      timer(seconds);\n    };\n\n    this.testClick = () => {\n      this.setState({\n        seconds: 10\n      });\n    };\n\n    this.state = {\n      seconds: 30\n    };\n  }\n\n  componentDidMount() {\n    const interval = 1000;\n    this.counter = setInterval(() => {\n      this.handleSeconds();\n    }, interval);\n  }\n\n  componentDidUpdate() {\n    const {\n      seconds\n    } = this.state;\n    const {\n      answered\n    } = this.props;\n\n    if (seconds === 0 || answered === 'respondido') {\n      clearInterval(this.counter);\n    }\n  }\n\n  render() {\n    const {\n      seconds\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Timer\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, seconds));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => ({\n  timer: seconds => dispatch(setTimer(seconds))\n});\n\nconst mapStateToProps = store => ({\n  answered: store.game.answered\n});\n\nTimer.propTypes = {\n  timer: PropTypes.number\n}.isRequired;\nexport default connect(mapStateToProps, mapDispatchToProps)(Timer);","map":{"version":3,"sources":["/home/alisson/Desktop/Projetos/sd-019-a-project-trivia-react-redux/src/components/Timer.jsx"],"names":["PropTypes","React","connect","setTimer","Timer","Component","constructor","handleSeconds","setState","prevState","seconds","state","timer","props","testClick","componentDidMount","interval","counter","setInterval","componentDidUpdate","answered","clearInterval","render","mapDispatchToProps","dispatch","mapStateToProps","store","game","propTypes","number","isRequired"],"mappings":";AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAuBdC,aAvBc,GAuBE,MAAM;AACpB,WAAKC,QAAL,CAAeC,SAAD,KAAgB;AAC5BC,QAAAA,OAAO,EAAED,SAAS,CAACC,OAAV,GAAoB;AADD,OAAhB,CAAd;AAGA,YAAM;AAAEA,QAAAA;AAAF,UAAc,KAAKC,KAAzB;AACA,YAAM;AAAEC,QAAAA;AAAF,UAAY,KAAKC,KAAvB;AACAD,MAAAA,KAAK,CAACF,OAAD,CAAL;AACD,KA9Ba;;AAAA,SAgCdI,SAhCc,GAgCF,MAAM;AAChB,WAAKN,QAAL,CAAc;AACZE,QAAAA,OAAO,EAAE;AADG,OAAd;AAGD,KApCa;;AAEZ,SAAKC,KAAL,GAAa;AACXD,MAAAA,OAAO,EAAE;AADE,KAAb;AAGD;;AAEDK,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,QAAQ,GAAG,IAAjB;AAEA,SAAKC,OAAL,GAAeC,WAAW,CAAC,MAAM;AAC/B,WAAKX,aAAL;AACD,KAFyB,EAEvBS,QAFuB,CAA1B;AAGD;;AAEDG,EAAAA,kBAAkB,GAAG;AACnB,UAAM;AAAET,MAAAA;AAAF,QAAc,KAAKC,KAAzB;AACA,UAAM;AAAES,MAAAA;AAAF,QAAe,KAAKP,KAA1B;;AACA,QAAIH,OAAO,KAAK,CAAZ,IAAiBU,QAAQ,KAAK,YAAlC,EAAgD;AAC9CC,MAAAA,aAAa,CAAC,KAAKJ,OAAN,CAAb;AACD;AACF;;AAiBDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEZ,MAAAA;AAAF,QAAc,KAAKC,KAAzB;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOD,OAAP,CAFF,CADF;AAKD;;AA9CiC;;AAiDpC,MAAMa,kBAAkB,GAAIC,QAAD,KAAe;AACxCZ,EAAAA,KAAK,EAAGF,OAAD,IAAac,QAAQ,CAACrB,QAAQ,CAACO,OAAD,CAAT;AADY,CAAf,CAA3B;;AAIA,MAAMe,eAAe,GAAIC,KAAD,KAAY;AAClCN,EAAAA,QAAQ,EAAEM,KAAK,CAACC,IAAN,CAAWP;AADa,CAAZ,CAAxB;;AAIAhB,KAAK,CAACwB,SAAN,GAAkB;AAChBhB,EAAAA,KAAK,EAAEZ,SAAS,CAAC6B;AADD,EAEhBC,UAFF;AAIA,eAAe5B,OAAO,CAACuB,eAAD,EAAkBF,kBAAlB,CAAP,CAA6CnB,KAA7C,CAAf","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { setTimer } from '../Redux/Actions';\n\nclass Timer extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      seconds: 30,\n    };\n  }\n\n  componentDidMount() {\n    const interval = 1000;\n\n    this.counter = setInterval(() => {\n      this.handleSeconds();\n    }, interval);\n  }\n\n  componentDidUpdate() {\n    const { seconds } = this.state;\n    const { answered } = this.props;\n    if (seconds === 0 || answered === 'respondido') {\n      clearInterval(this.counter);\n    }\n  }\n\n  handleSeconds = () => {\n    this.setState((prevState) => ({\n      seconds: prevState.seconds - 1,\n    }));\n    const { seconds } = this.state;\n    const { timer } = this.props;\n    timer(seconds);\n  }\n\n  testClick = () => {\n    this.setState({\n      seconds: 10,\n    });\n  }\n\n  render() {\n    const { seconds } = this.state;\n    return (\n      <div>\n        <h3>Timer</h3>\n        <span>{seconds}</span>\n      </div>);\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  timer: (seconds) => dispatch(setTimer(seconds)),\n});\n\nconst mapStateToProps = (store) => ({\n  answered: store.game.answered,\n});\n\nTimer.propTypes = {\n  timer: PropTypes.number,\n}.isRequired;\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Timer);\n"]},"metadata":{},"sourceType":"module"}